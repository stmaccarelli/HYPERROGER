<!DOCTYPE html>
<html lang="en">
<head>
	<title>ROGER WATER</title>
	<meta charset="utf-8">
	<meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="mobile-web-app-capable" content="yes">
	<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
	<link href="css/style.css" rel="stylesheet" type="text/css">
</head>
<body style="height:100%">

	<div id="mobileControls" class="mobile">
		<div class="mobileControlButton" id="mX">X</div>
		<div class="mobileControlButton" id="mP">P</div>
		<div class="mobileControlButton" id="mS">S</div>
		<!-- <div class="mobileControlButton" id="buttonP">P</div>
		<div class="mobileControlButton" id="buttonE">E</div>
		<div class="mobileControlButton" id="buttonR">R</div> -->

		<div class="mobileControlButton" id="buttonAccel">ACCEL</div>

	</div>

	<div class="screens" id="loading">
		<p style="font-size:50px; ">INIT DIV</p>
		loading progress then enable "START BUTTON", that hides screen and plays audio.

	<pre style="font-size:30px;">

	COMMANDS:
		H, Y, P, E, R = launch objects
		mouse = move
		mouse button click / hold = accelerate
		spacebar = pause
	</pre>

		 <div style="position:relative;height:100px;">
		 <div class="loadingbars" id="texturesLoading"></div>
		 <div class="loadingbars" id="modelsLoading"></div>
		 <div class="loadingbars" id="audioLoading"></div>
	 </div>

	 <button type="button" name="preloadButton" id="preloadButton" style="display:none;">START</button>

	 <button type="button" disabled name="startButton" id="startButton" style="width:100px;height:40px;font-size:30px;">START</button>
</div>

	<div class="screens" id="paused">
		<p style="font-size:50px; ">PAUSED DIV</p>
		resume,
		<a href="javascript:window.history.back();">back to home</a>
		<div class="mobile mobileControlButton" id="mP2">RESUME</div>

		<pre style="font-size:30px;">

		COMMANDS:
			H, Y, P, E, R = launch objects
			mouse = move
			mouse button click / hold = accelerate
			spacebar = pause
		</pre>

	</div>
	<div class="screens" id="ended">
		<p style="font-size:50px; ">ENDING DIV</p>
		choose play again or mic

		<script type="text/javascript">
		var screenEnded = document.getElementById('ended');
		</script>


		<a href="#" onclick="AA.audioFile.currentTime=0; AA.filePlayPause(); screenEnded.style.display = 'none'; ">PLAY AGAIN</a>
		<!-- <a href="#" onclick="try{ AA.connectMic(); screenEnded.style.display = 'none'; } catch(e){console.error(e);}; ">ENABLE MIC</a> -->

	</div>


	<div class="" id="progress"></div>


	<!--  THREE.JS -->
	<script src="lib/three.min.js"></script>

	<!-- UTILS  -->
  <script src="lib/NoSleep.min.js"></script>
  <script src="lib/NoScroll.js"></script>
	<!-- DAT GUI + helper -->
	<script src="lib/dev/dat.gui.min.js"></script>
	<script src="src/DEV_GUI.js"></script>
	<!-- AUDIO ANALYSIS -->
	<script src="lib/AudioAnalyzerMultiSource.js"></script>

	<!-- THREE.JS EFFECTS AND CONTROLS-->
	<script src="lib/effects/webVR.js"></script>
	<script src="lib/effects/StereoEffect.js"></script>
	<script src="lib/effects/VREffect.js"></script>

	<script src="lib/controls/DeviceOrientationControls.js"></script>
	<script src="lib/controls/FirstPersonControls.js"></script>
	<script src="lib/controls/VRControls.js"></script>


	<!-- LOADERS -->
	<script src="lib/loaders/OBJLoader.js"></script>


	<!-- MATERIALS -->
	<script src="lib/materials/glslNoise25f.js"></script>
	<script src="lib/materials/water-custom-material.js"></script>
	<script src="lib/materials/land-custom-material.js"></script>
	<script src="lib/materials/sky-custom-material.js"></script>


	<!-- ROGER WATER x HYPERLAND SOURCE FILES -->

	<script src="src/main.js"></script>

	<script src="src/sceneParams.js"></script>
  <script src="src/environment.js"></script>
	<script src="src/animationHelpers.js"></script>
  <script src="src/animation.js"></script>
	<script src="src/remoteControl.js"></script>
	<script src="src/hud.js"></script>
	<script src="src/sceneManager.js"></script>


	<!-- <audio id="rogerwater" src="assets/audio/rogerwater2.mp3" controls></audio> -->

	<script type="text/javascript">
		/*
			HIDE UNNEEDED OPTIONS
		*/
		function getMobileOperatingSystem() {
			var userAgent = navigator.userAgent || navigator.vendor || window.opera;

					// Windows Phone must come first because its UA also contains "Android"
				if (/windows phone/i.test(userAgent)) {
						return "Windows Phone";
				}

				if (/android/i.test(userAgent)) {
						return "Android";
				}

				// iOS detection from: http://stackoverflow.com/a/9039885/177710
				if (/iPad|iPhone|iPod/.test(userAgent) && !window.MSStream) {
						return "iOS";
				}

				return "unknown";
		}

		var mobileOS = getMobileOperatingSystem();
		var isMobile = false;
		if( mobileOS.indexOf("unknown") == -1 ){
			isMobile = true;
		}

		function display(selector, visible){
			var elements = document.querySelectorAll(selector);
			for(var i =0; i<elements.length; i++)
				elements[i].style.display = visible?'auto':'none';
		}

		if(isMobile)
			display('.desktop', false);
		else
			display('.mobile', false);
	</script>

	<script>
	  // (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	  // (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	  // m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	  // })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
		//
	  // ga('create', 'UA-88767926-1', 'auto');
	  // ga('send', 'pageview');

	</script>
</body>
</html>
