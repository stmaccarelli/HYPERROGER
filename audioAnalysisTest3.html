<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>fdfds</title>
  </head>
  <body>
    <pre id="info"></pre>
    <script type="text/javascript">
    var info = document.getElementById("info");
    window.AudioContext = window.AudioContext || window.webkitAudioContext || window.mozAudioContext;
    var ac = new AudioContext();
    var analyserNode = ac.createAnalyser();
    var dataArray = new Uint8Array(analyserNode.frequencyBinCount);

    var audioFile = new Audio( "assets/audio/rogerwater3.mp3");///Niagara_Roger_Water_Kick_LOW.mp3" );
    var fileNode = ac.createMediaElementSource(audioFile);

    fileNode.connect(analyserNode);
    fileNode.connect(ac.destination);

    function analysis() {
      analyserNode.getByteFrequencyData(dataArray);
      rafID = window.requestAnimationFrame( analysis );

      console.log( analyserNode.getByteFrequencyData(dataArray) );

      info.innerHTML = dataArray;

    }
    analysis();

    document.addEventListener('click', function(){ audioFile.play(); });

    </script>
  </body>
</html>
